#include "versions.h"
#include <string.h>

int version_index(const char *name) {
  if (name == NULL)
    return -1;
  for (int i = 0; i < VERSION_COUNT; i++) {
    if (strcmp(VERSIONS[i].version_name, name) == 0) {
      return VERSIONS[i].index;
    }
  }
  return -1;
}

const struct version_info* version_info(const char *name) {
  if (name == NULL)
    return NULL;
  for (int i = 0; i < VERSION_COUNT; i++) {
    if (strcmp(VERSIONS[i].version_name, name) == 0) {
      return &VERSIONS[i];
    }
  }
  return NULL;
}

#define VERSION(NAME, RELEASE, DATAPACK_FORMAT, INDEX)                         \
  {                                                                            \
    .version_name = NAME, .datapack_format = DATAPACK_FORMAT, .index = INDEX,  \
    .release = RELEASE                                                         \
  }

const struct version_info VERSIONS[] = {
    VERSION("1.19.4", true, 12, 329),
    VERSION("1.19.4-rc3", false, 12, 328),
    VERSION("1.19.4-rc2", false, 12, 327),
    VERSION("1.19.4-rc1", false, 12, 326),
    VERSION("1.19.4-pre4", false, 12, 325),
    VERSION("1.19.4-pre3", false, 12, 324),
    VERSION("1.19.4-pre2", false, 12, 323),
    VERSION("1.19.4-pre1", false, 12, 322),
    VERSION("23w07a", false, 12, 321),
    VERSION("23w06a", false, 12, 320),
    VERSION("23w05a", false, 11, 319),
    VERSION("23w04a", false, 11, 318),
    VERSION("23w03a", false, 11, 317),
    VERSION("1.19.3", true, 10, 316),
    VERSION("1.19.3-rc3", false, 10, 315),
    VERSION("1.19.3-rc2", false, 10, 314),
    VERSION("1.19.3-rc1", false, 10, 313),
    VERSION("1.19.3-pre3", false, 10, 312),
    VERSION("1.19.3-pre2", false, 10, 311),
    VERSION("1.19.3-pre1", false, 10, 310),
    VERSION("22w46a", false, 10, 309),
    VERSION("22w45a", false, 10, 308),
    VERSION("22w44a", false, 10, 307),
    VERSION("22w43a", false, 10, 306),
    VERSION("22w42a", false, 10, 305),
    VERSION("1.19.2", true, 10, 304),
    VERSION("1.19.2-rc2", false, 10, 303),
    VERSION("1.19.2-rc1", false, 10, 302),
    VERSION("1.19.1", true, 10, 301),
    VERSION("1.19.1-rc3", false, 10, 300),
    VERSION("1.19.1-rc2", false, 10, 299),
    VERSION("1.19.1-pre6", false, 10, 298),
    VERSION("1.19.1-pre5", false, 10, 297),
    VERSION("1.19.1-pre4", false, 10, 296),
    VERSION("1.19.1-pre3", false, 10, 295),
    VERSION("1.19.1-pre2", false, 10, 294),
    VERSION("1.19.1-rc1", false, 10, 293),
    VERSION("1.19.1-pre1", false, 10, 292),
    VERSION("22w24a", false, 10, 291),
    VERSION("1.19", true, 10, 290),
    VERSION("1.19-rc2", false, 10, 289),
    VERSION("1.19-rc1", false, 10, 288),
    VERSION("1.19-pre5", false, 10, 287),
    VERSION("1.19-pre4", false, 10, 286),
    VERSION("1.19-pre3", false, 10, 285),
    VERSION("1.19-pre2", false, 10, 284),
    VERSION("1.19-pre1", false, 10, 283),
    VERSION("22w19a", false, 10, 282),
    VERSION("22w18a", false, 10, 281),
    VERSION("22w17a", false, 10, 280),
    VERSION("22w16b", false, 10, 279),
    VERSION("22w16a", false, 10, 278),
    VERSION("22w15a", false, 10, 277),
    VERSION("22w14a", false, 10, 276),
    VERSION("22w13oneblockatatime", false, 10, 275),
    VERSION("22w13a", false, 10, 274),
    VERSION("22w12a", false, 10, 273),
    VERSION("22w11a", false, 10, 272),
    VERSION("1.18.2", true, 9, 271),
    VERSION("1.18.2-rc1", false, 9, 270),
    VERSION("1.18.2-pre3", false, 9, 269),
    VERSION("1.18.2-pre2", false, 9, 268),
    VERSION("1.18.2-pre1", false, 9, 267),
    VERSION("22w07a", false, 8, 266),
    VERSION("22w06a", false, 8, 265),
    VERSION("22w05a", false, 8, 264),
    VERSION("22w03a", false, 8, 263),
    VERSION("1.18.1", true, 8, 262),
    VERSION("1.18.1-rc3", false, 8, 261),
    VERSION("1.18.1-rc2", false, 8, 260),
    VERSION("1.18.1-rc1", false, 8, 259),
    VERSION("1.18.1-pre1", false, 8, 258),
    VERSION("1.18", true, 8, 257),
    VERSION("1.18-rc4", false, 8, 256),
    VERSION("1.18-rc3", false, 8, 255),
    VERSION("1.18-rc2", false, 8, 254),
    VERSION("1.18-rc1", false, 8, 253),
    VERSION("1.18-pre8", false, 8, 252),
    VERSION("1.18-pre7", false, 8, 251),
    VERSION("1.18-pre6", false, 8, 250),
    VERSION("1.18-pre5", false, 8, 249),
    VERSION("1.18-pre4", false, 8, 248),
    VERSION("1.18-pre3", false, 8, 247),
    VERSION("1.18-pre2", false, 8, 246),
    VERSION("1.18-pre1", false, 8, 245),
    VERSION("21w44a", false, 8, 244),
    VERSION("21w43a", false, 8, 243),
    VERSION("21w42a", false, 8, 242),
    VERSION("21w41a", false, 8, 241),
    VERSION("21w40a", false, 8, 240),
    VERSION("21w39a", false, 8, 239),
    VERSION("21w38a", false, 8, 238),
    VERSION("21w37a", false, 8, 237),
    VERSION("1.17.1", true, 7, 236),
    VERSION("1.17.1-rc2", false, 7, 235),
    VERSION("1.17.1-rc1", false, 7, 234),
    VERSION("1.17.1-pre3", false, 7, 233),
    VERSION("1.17.1-pre2", false, 7, 232),
    VERSION("1.17.1-pre1", false, 7, 231),
    VERSION("1.17", true, 7, 230),
    VERSION("1.17-rc2", false, 7, 229),
    VERSION("1.17-rc1", false, 7, 228),
    VERSION("1.17-pre5", false, 7, 227),
    VERSION("1.17-pre4", false, 7, 226),
    VERSION("1.17-pre3", false, 7, 225),
    VERSION("1.17-pre2", false, 7, 224),
    VERSION("1.17-pre1", false, 7, 223),
    VERSION("21w20a", false, 7, 222),
    VERSION("21w19a", false, 7, 221),
    VERSION("21w18a", false, 7, 220),
    VERSION("21w17a", false, 7, 219),
    VERSION("21w16a", false, 7, 218),
    VERSION("21w15a", false, 7, 217),
    VERSION("21w14a", false, 7, 216),
    VERSION("21w13a", false, 7, 215),
    VERSION("21w11a", false, 7, 214),
    VERSION("21w10a", false, 7, 213),
    VERSION("21w08b", false, 7, 212),
    VERSION("21w08a", false, 7, 211),
    VERSION("21w07a", false, 7, 210),
    VERSION("21w06a", false, 7, 209),
    VERSION("21w05b", false, 7, 208),
    VERSION("21w05a", false, 7, 207),
    VERSION("21w03a", false, 7, 206),
    VERSION("1.16.5", true, 7, 205),
    VERSION("1.16.5-rc1", false, 7, 204),
    VERSION("20w51a", false, 7, 203),
    VERSION("20w49a", false, 7, 202),
    VERSION("20w48a", false, 7, 201),
    VERSION("20w46a", false, 7, 200),
    VERSION("20w45a", false, 6, 199),
    VERSION("1.16.4", true, 6, 198),
    VERSION("1.16.4-rc1", false, 6, 197),
    VERSION("1.16.4-pre2", false, 6, 196),
    VERSION("1.16.4-pre1", false, 6, 195),
    VERSION("1.16.3", true, 6, 194),
    VERSION("1.16.3-rc1", false, 6, 193),
    VERSION("1.16.2", true, 6, 192),
    VERSION("1.16.2-rc2", false, 6, 191),
    VERSION("1.16.2-rc1", false, 6, 190),
    VERSION("1.16.2-pre3", false, 6, 189),
    VERSION("1.16.2-pre2", false, 6, 188),
    VERSION("1.16.2-pre1", false, 6, 187),
    VERSION("20w30a", false, 6, 186),
    VERSION("20w29a", false, 6, 185),
    VERSION("20w28a", false, 6, 184),
    VERSION("20w27a", false, 6, 183),
    VERSION("1.16.1", true, 6, 182),
    VERSION("1.16", true, 6, 181),
    VERSION("1.16-rc1", false, 6, 180),
    VERSION("1.16-pre8", false, 5, 179),
    VERSION("1.16-pre7", false, 5, 178),
    VERSION("1.16-pre6", false, 5, 177),
    VERSION("1.16-pre5", false, 5, 176),
    VERSION("1.16-pre4", false, 5, 175),
    VERSION("1.16-pre3", false, 5, 174),
    VERSION("1.16-pre2", false, 5, 173),
    VERSION("1.16-pre1", false, 5, 172),
    VERSION("20w22a", false, 5, 171),
    VERSION("20w21a", false, 5, 170),
    VERSION("20w20b", false, 5, 169),
    VERSION("20w20a", false, 5, 168),
    VERSION("20w19a", false, 5, 167),
    VERSION("20w18a", false, 5, 166),
    VERSION("20w17a", false, 5, 165),
    VERSION("20w16a", false, 5, 164),
    VERSION("20w15a", false, 5, 163),
    VERSION("20w14a", false, 5, 162),
    VERSION("20w14infinite", false, 5, 161),
    VERSION("20w13b", false, 5, 160),
    VERSION("20w13a", false, 5, 159),
    VERSION("20w12a", false, 5, 158),
    VERSION("20w11a", false, 5, 157),
    VERSION("20w10a", false, 5, 156),
    VERSION("20w09a", false, 5, 155),
    VERSION("20w08a", false, 5, 154),
    VERSION("20w07a", false, 5, 153),
    VERSION("20w06a", false, 5, 152),
    VERSION("1.15.2", true, 5, 151),
    VERSION("1.15.2-pre2", false, 5, 150),
    VERSION("1.15.2-pre1", false, 5, 149),
    VERSION("1.15.1", true, 5, 148),
    VERSION("1.15.1-pre1", false, 5, 147),
    VERSION("1.15", true, 5, 146),
    VERSION("1.15-pre7", false, 5, 145),
    VERSION("1.15-pre6", false, 5, 144),
    VERSION("1.15-pre5", false, 5, 143),
    VERSION("1.15-pre4", false, 5, 142),
    VERSION("1.15-pre3", false, 5, 141),
    VERSION("1.15-pre2", false, 5, 140),
    VERSION("1.15-pre1", false, 5, 139),
    VERSION("19w46b", false, 4, 138),
    VERSION("19w46a", false, 4, 137),
    VERSION("19w45b", false, 4, 136),
    VERSION("19w45a", false, 4, 135),
    VERSION("19w44a", false, 4, 134),
    VERSION("19w42a", false, 4, 133),
    VERSION("19w41a", false, 4, 132),
    VERSION("19w40a", false, 4, 131),
    VERSION("19w39a", false, 4, 130),
    VERSION("19w38b", false, 4, 129),
    VERSION("19w38a", false, 4, 128),
    VERSION("19w37a", false, 4, 127),
    VERSION("19w36a", false, 4, 126),
    VERSION("19w35a", false, 4, 125),
    VERSION("19w34a", false, 4, 124),
    VERSION("1.14.4", true, 4, 123),
    VERSION("1.14.4-pre7", false, 4, 122),
    VERSION("1.14.4-pre6", false, 4, 121),
    VERSION("1.14.4-pre5", false, 4, 120),
    VERSION("1.14.4-pre4", false, 4, 119),
    VERSION("1.14.4-pre3", false, 4, 118),
    VERSION("1.14.4-pre2", false, 4, 117),
    VERSION("1.14.4-pre1", false, 4, 116),
    VERSION("1.14.3", true, 4, 115),
    VERSION("1.14.3-pre4", false, 4, 114),
    VERSION("1.14.3-pre3", false, 4, 113),
    VERSION("1.14.3-pre2", false, 4, 112),
    VERSION("1.14.3-pre1", false, 4, 111),
    VERSION("1.14.2", true, 4, 110),
    VERSION("1.14.2 Pre-Release 4", false, 4, 109),
    VERSION("1.14.2 Pre-Release 3", false, 4, 108),
    VERSION("1.14.2 Pre-Release 2", false, 4, 107),
    VERSION("1.14.2 Pre-Release 1", false, 4, 106),
    VERSION("1.14.1", true, 4, 105),
    VERSION("1.14.1 Pre-Release 2", false, 4, 104),
    VERSION("1.14.1 Pre-Release 1", false, 4, 103),
    VERSION("1.14", true, 4, 102),
    VERSION("1.14 Pre-Release 5", false, 4, 101),
    VERSION("1.14 Pre-Release 4", false, 4, 100),
    VERSION("1.14 Pre-Release 3", false, 4, 99),
    VERSION("1.14 Pre-Release 2", false, 4, 98),
    VERSION("1.14 Pre-Release 1", false, 4, 97),
    VERSION("19w14b", false, 4, 96),
    VERSION("19w14a", false, 4, 95),
    VERSION("3D Shareware v1.34", false, 4, 94),
    VERSION("19w13b", false, 4, 93),
    VERSION("19w13a", false, 4, 92),
    VERSION("19w12b", false, 4, 91),
    VERSION("19w12a", false, 4, 90),
    VERSION("19w11b", false, 4, 89),
    VERSION("19w11a", false, 4, 88),
    VERSION("19w09a", false, 4, 87),
    VERSION("19w08b", false, 4, 86),
    VERSION("19w08a", false, 4, 85),
    VERSION("19w07a", false, 4, 84),
    VERSION("19w06a", false, 4, 83),
    VERSION("19w05a", false, 4, 82),
    VERSION("19w04b", false, 4, 81),
    VERSION("19w04a", false, 4, 80),
    VERSION("19w03c", false, 4, 79),
    VERSION("19w03b", false, 4, 78),
    VERSION("19w03a", false, 4, 77),
    VERSION("19w02a", false, 4, 76),
    VERSION("18w50a", false, 4, 75),
    VERSION("18w49a", false, 4, 74),
    VERSION("18w48b", false, 4, 73),
    VERSION("18w48a", false, 4, 72),
    VERSION("18w47b", false, 4, 71),
    VERSION("18w47a", false, 4, 70),
    VERSION("18w46a", false, 4, 69),
    VERSION("18w45a", false, 4, 68),
    VERSION("18w44a", false, 4, 67),
    VERSION("18w43c", false, 4, 66),
    VERSION("18w43b", false, 4, 65),
    VERSION("18w43a", false, 4, 64),
    VERSION("1.13.2", true, 4, 63),
    VERSION("1.13.2-pre2", false, 4, 62),
    VERSION("1.13.2-pre1", false, 4, 61),
    VERSION("1.13.1", true, 4, 60),
    VERSION("1.13.1-pre2", false, 4, 59),
    VERSION("1.13.1-pre1", false, 4, 58),
    VERSION("18w33a", false, 4, 57),
    VERSION("18w32a", false, 4, 56),
    VERSION("18w31a", false, 4, 55),
    VERSION("18w30b", false, 4, 54),
    VERSION("18w30a", false, 4, 53),
    VERSION("1.13", true, 4, 52),
    VERSION("1.13-pre10", false, 4, 51),
    VERSION("1.13-pre9", false, 4, 50),
    VERSION("1.13-pre8", false, 4, 49),
    VERSION("1.13-pre7", false, 4, 48),
    VERSION("1.13-pre6", false, 4, 47),
    VERSION("1.13-pre5", false, 4, 46),
    VERSION("1.13-pre4", false, 4, 45),
    VERSION("1.13-pre3", false, 4, 44),
    VERSION("1.13-pre2", false, 4, 43),
    VERSION("1.13-pre1", false, 4, 42),
    VERSION("18w22c", false, 4, 41),
    VERSION("18w22b", false, 4, 40),
    VERSION("18w22a", false, 4, 39),
    VERSION("18w21b", false, 4, 38),
    VERSION("18w21a", false, 4, 37),
    VERSION("18w20c", false, 4, 36),
    VERSION("18w20b", false, 4, 35),
    VERSION("18w20a", false, 4, 34),
    VERSION("18w19b", false, 4, 33),
    VERSION("18w19a", false, 4, 32),
    VERSION("18w16a", false, 4, 31),
    VERSION("18w15a", false, 4, 30),
    VERSION("18w14b", false, 4, 29),
    VERSION("18w14a", false, 4, 28),
    VERSION("18w11a", false, 4, 27),
    VERSION("18w10d", false, 4, 26),
    VERSION("18w10c", false, 4, 25),
    VERSION("18w10b", false, 4, 24),
    VERSION("18w10a", false, 4, 23),
    VERSION("18w09a", false, 4, 22),
    VERSION("18w08b", false, 4, 21),
    VERSION("18w08a", false, 4, 20),
    VERSION("18w07c", false, 4, 19),
    VERSION("18w07b", false, 4, 18),
    VERSION("18w07a", false, 4, 17),
    VERSION("18w06a", false, 4, 16),
    VERSION("18w05a", false, 4, 15),
    VERSION("18w03b", false, 4, 14),
    VERSION("18w03a", false, 4, 13),
    VERSION("18w02a", false, 4, 12),
    VERSION("18w01a", false, 4, 11),
    VERSION("17w50a", false, 4, 10),
    VERSION("17w49b", false, 4, 9),
    VERSION("17w49a", false, 4, 8),
    VERSION("17w48a", false, 4, 7),
    VERSION("17w47b", false, 3, 6),
    VERSION("17w47a", false, 3, 5),
    VERSION("17w46a", false, 3, 4),
    VERSION("17w45b", false, 3, 3),
    VERSION("17w45a", false, 3, 2),
};

const int VERSION_COUNT = sizeof(VERSIONS) / sizeof(struct version_info);